{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/adalaber/Escritorio/Adalab/modulo-3-evaluacion-final-MaribelLopezRomero/src/components/App.js\";\nimport React from 'react';\nimport '../stylesheets/App.scss';\nimport getDataFromApi from '../services/Fetch';\nimport CharacterList from './CharacterList';\nimport Filters from './Filter';\nimport { Route, Switch } from 'react-router-dom';\nimport CharacterDetail from './CharacterDetail';\nimport CharacterNotFound from './CharacterNotFound';\nimport Header from './Header';\nimport CharacterNotExist from './CharacterNotExItst';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: '',\n      data: [],\n      dataFilter: [],\n      textAlert: ''\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit(this);\n    this.filter = this.filter.bind(this);\n    this.renderCharacterDetail = this.renderCharacterDetail.bind(this);\n  }\n\n  componentDidMount() {\n    getDataFromApi().then(data => {\n      console.log(data.results);\n      this.setState({\n        data: data.results\n      }, () => this.filter());\n    });\n  } //PreventDefault\n\n\n  handleFormSubmit(event) {} //evento de filtrado\n\n\n  handleInput(value) {\n    this.setState({\n      inputValue: value\n    }, () => this.filter());\n  }\n\n  filter() {\n    console.log(this.state.inputValue); // this.state.dataFilter.length === 0 ? <p>No hay ningún personaje que coincida con la\n    // palabra {this.state.data.inputValue}</p>\n    // this.state.dataFilter.inputValue !== this.state.dataFilter.name\n    //   if (this.state.dataFilter === 0) {\n    //     return  <CharacterNotExist value= {this.state.textAlert}/>\n    //     this.setState({\n    //       textAlert: 'No hay ningún personaje que coincida con la palabra'});\n    //   } else {\n    //     const filterMortyCard = this.state.data.filter((cardFiltred) =>\n    //       cardFiltred.name\n    //         .toLowerCase()\n    //         .includes(this.state.inputValue.toLowerCase())\n    //     );\n    //     this.setState({ dataFilter: filterMortyCard });\n    //   }\n    // }\n\n    const filterMortyCard = this.state.data.filter(cardFiltred => cardFiltred.name.toLowerCase().includes(this.state.inputValue.toLowerCase()));\n    this.setState({\n      dataFilter: filterMortyCard\n    });\n\n    if (filterMortyCard.length === 0) {\n      return /*#__PURE__*/_jsxDEV(CharacterNotExist, {\n        value: this.state.textAlert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 48\n      }, this);\n    }\n  } // pitamos la tarjeta de detalles, para ello en la rruta que queremos que aparezca declaramos la fucion que pinta los datos, despues con un find, decimos que compare la ruta que hemos puesto (nombre., nickname) con los datos dentro del array incial(name)\n\n\n  renderCharacterDetail(props) {\n    console.log(props);\n    const id = parseInt(props.match.params.id);\n    const dataObj = this.state.data.find(cardDetail => {\n      return cardDetail.id === id;\n    });\n\n    if (dataObj) {\n      return /*#__PURE__*/_jsxDEV(CharacterDetail, {\n        data: dataObj\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(CharacterNotFound, {\n        name: this.state.inputValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  render() {\n    // // Pasamos los datos del archivo json a través del estado del componente y luego por props a su componente hijo\n    const MortyDataFilter = this.state.dataFilter;\n    const inputValue = this.state.imputValue;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(Filters, {\n            inputValue: inputValue,\n            handleInput: this.handleInput //props para que filer avise a app del evento\n            ,\n            handleFormSubmit: this.handleFormSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CharacterList, {\n            dataMortylist: MortyDataFilter // para filtrar tengo que pasarte el estado, donde se guardara el array completo y el filtrado en funcion de si tengo algo en el value o no\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), \")}\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/:id\",\n          render: this.renderCharacterDetail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/adalaber/Escritorio/Adalab/modulo-3-evaluacion-final-MaribelLopezRomero/src/components/App.js"],"names":["React","getDataFromApi","CharacterList","Filters","Route","Switch","CharacterDetail","CharacterNotFound","Header","CharacterNotExist","App","Component","constructor","props","state","inputValue","data","dataFilter","textAlert","handleInput","bind","handleFormSubmit","filter","renderCharacterDetail","componentDidMount","then","console","log","results","setState","event","value","filterMortyCard","cardFiltred","name","toLowerCase","includes","length","id","parseInt","match","params","dataObj","find","cardDetail","render","MortyDataFilter","imputValue"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../stylesheets/App.scss';\nimport getDataFromApi from '../services/Fetch';\nimport CharacterList from './CharacterList';\nimport Filters from './Filter';\nimport { Route, Switch } from 'react-router-dom';\nimport CharacterDetail from './CharacterDetail';\nimport CharacterNotFound from './CharacterNotFound';\nimport Header from './Header';\nimport CharacterNotExist from './CharacterNotExItst';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: '',\n      data: [],\n      dataFilter: [],\n      textAlert: '',\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit(this);\n    this.filter = this.filter.bind(this);\n    this.renderCharacterDetail = this.renderCharacterDetail.bind(this);\n  }\n\n  componentDidMount() {\n    getDataFromApi().then((data) => {\n      console.log(data.results);\n      this.setState(\n        {\n          data: data.results,\n        },\n        () => this.filter()\n      );\n    });\n  }\n\n  //PreventDefault\n  handleFormSubmit(event) {}\n\n  //evento de filtrado\n  handleInput(value) {\n    this.setState(\n      {\n        inputValue: value,\n      },\n      () => this.filter()\n    );\n  }\n\n  filter() {\n    console.log(this.state.inputValue);\n\n    // this.state.dataFilter.length === 0 ? <p>No hay ningún personaje que coincida con la\n    // palabra {this.state.data.inputValue}</p>\n    // this.state.dataFilter.inputValue !== this.state.dataFilter.name\n\n    //   if (this.state.dataFilter === 0) {\n    //     return  <CharacterNotExist value= {this.state.textAlert}/>\n\n    //     this.setState({\n    //       textAlert: 'No hay ningún personaje que coincida con la palabra'});\n    //   } else {\n    //     const filterMortyCard = this.state.data.filter((cardFiltred) =>\n    //       cardFiltred.name\n    //         .toLowerCase()\n    //         .includes(this.state.inputValue.toLowerCase())\n    //     );\n    //     this.setState({ dataFilter: filterMortyCard });\n    //   }\n    // }\n\n    const filterMortyCard = this.state.data.filter((cardFiltred) =>\n      cardFiltred.name\n        .toLowerCase()\n        .includes(this.state.inputValue.toLowerCase())\n    );\n    this.setState({ dataFilter: filterMortyCard });\n\n    if (filterMortyCard.length === 0) {return (<CharacterNotExist value={this.state.textAlert} />)\n      ;\n    }\n  }\n\n  // pitamos la tarjeta de detalles, para ello en la rruta que queremos que aparezca declaramos la fucion que pinta los datos, despues con un find, decimos que compare la ruta que hemos puesto (nombre., nickname) con los datos dentro del array incial(name)\n  renderCharacterDetail(props) {\n    console.log(props);\n    const id = parseInt(props.match.params.id);\n    const dataObj = this.state.data.find((cardDetail) => {\n      return cardDetail.id === id;\n    });\n    if (dataObj) {\n      return <CharacterDetail data={dataObj} />;\n    } else {\n      return <CharacterNotFound name={this.state.inputValue} />;\n    }\n  }\n\n  render() {\n    // // Pasamos los datos del archivo json a través del estado del componente y luego por props a su componente hijo\n    const MortyDataFilter = this.state.dataFilter;\n    const inputValue = this.state.imputValue;\n    return (\n      <>\n        <Header />\n        <Switch>\n          <Route exact path='/'>\n            <Filters\n              inputValue={inputValue}\n              handleInput={this.handleInput} //props para que filer avise a app del evento\n              handleFormSubmit={this.handleFormSubmit}\n            />\n            {/* {this.state.dataFilter.length === 0 ? (\n              <p>ighwir</p>\n            ) : ( */}\n            <CharacterList\n              dataMortylist={MortyDataFilter} // para filtrar tengo que pasarte el estado, donde se guardara el array completo y el filtrado en funcion de si tengo algo en el value o no\n            />\n            )}\n          </Route>\n          <Route path='/:id' render={this.renderCharacterDetail} />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}